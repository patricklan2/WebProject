"use strict";(self["webpackChunkmy_cinima"]=self["webpackChunkmy_cinima"]||[]).push([[249],{9658:function(t,e,s){s.d(e,{Z:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"collapse-btn",on:{click:t.collapseChange}},[t.collapse?e("i",{staticClass:"el-icon-s-unfold"}):e("i",{staticClass:"el-icon-s-fold"})]),e("div",{staticClass:"logo"},[t._v("电影院会员管理系统")]),e("div",{staticClass:"header-right"},[t._m(0),e("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"},on:{command:t.handleCommand}},[e("span",{staticClass:"dropdown-link"},[t._v(t._s(t.id)),e("i",{staticClass:"el-icon-caret-bottom"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{divided:"",command:"loginOut"}},[t._v("退出登录")])],1)],1)],1)])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:s(9017)}})])}],l=(s(7658),s(333)),n={data(){return{collapse:!1,fullscreen:!1,defaultManagerId:"admin"}},computed:{id(){return this.defaultManagerId}},methods:{handleCommand(t){"loginOut"==t&&this.$router.push("/")},collapseChange(){this.collapse=!this.collapse,l.Z.$emit("collapse",this.collapse)},handleCommand(t){"loginOut"==t&&(localStorage.removeItem("managerId"),this.$router.push("/login"))}}},o=n,c=s(1001),r=(0,c.Z)(o,a,i,!1,null,null,null),d=r.exports},7249:function(t,e,s){s.r(e),s.d(e,{default:function(){return M}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("my-head"),e("sidebar",{staticClass:"aside"}),e("div",{staticClass:"content-box",class:{"content-collapse":t.collapse}},[e("my-tag"),e("div",{staticClass:"content"},[e("transition",{attrs:{name:"move",mode:"out-in"}},[e("keep-alive",{attrs:{include:t.tagsList}},[e("router-view")],1)],1),e("el-back-top",{attrs:{target:".content"}})],1)],1)],1)},i=[],l=s(9658),n=function(){var t=this,e=t._self._c;return e("el-menu",{staticClass:"sidebar-el-menu",attrs:{"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff",collapse:t.collapse,"unique-opened":"",router:""}},[e("menu-item",{attrs:{collapse:t.collapse,menuList:t.menuList,head:"/index"}})],1)},o=[],c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"menuitem"},[t._l(t.menuList,(function(s){return[s.children?e("el-submenu",{attrs:{index:t.head+"/"+s.index}},[e("template",{slot:"title"},[s.icon?e("i",{class:s.icon}):t._e(),t._v(" "),t.collapse?t._e():e("span",[t._v(t._s(s.title))])]),s.children?e("my-menu-item",{attrs:{menuList:s.children,head:t.head+"/"+s.index}}):t._e()],2):e("el-menu-item",{staticClass:"menu-item",attrs:{index:t.head+"/"+s.index}},[s.icon?e("i",{class:s.icon}):t._e(),e("template",{slot:"title"},[e("span",[t._v(t._s(s.title))])])],2)]}))],2)},r=[],d={name:"MyMenuItem",props:["menuList","head","collapse"],data:()=>({})},u=d,h=s(1001),m=(0,h.Z)(u,c,r,!1,null,null,null),p=m.exports,g=s(333),v={components:{MenuItem:p},data:()=>({collapse:!1,menuList:[{index:"dashboard",title:"系统首页",icon:"el-icon-s-home"},{index:"member",title:"会员管理",icon:"el-icon-user",children:[{index:"member",title:"会员列表"}]},{index:"card",title:"会员卡管理",icon:"el-icon-document-copy",children:[{index:"card",title:"会员卡列表"},{index:"record",title:"交易记录"}]},{index:"integral",title:"商品管理",icon:"el-icon-shopping-cart-2",children:[{index:"integral",title:"商品列表"}]},{index:"care",title:"会员关怀",icon:"el-icon-date"},{index:"charts",title:"统计数据",icon:"el-icon-odometer"}]}),created(){g.Z.$on("collapse",(t=>{this.collapse=t}))}},f=v,_=(0,h.Z)(f,n,o,!1,null,"73ed867a",null),C=_.exports,x=function(){var t=this,e=t._self._c;return t.showTags?e("div",{staticClass:"tags"},[e("ul",t._l(t.tagsList,(function(s,a){return e("li",{key:s.title,staticClass:"tags-li",class:{active:t.isActive(s.path)}},[e("router-link",{staticClass:"tags-li-title",attrs:{to:s.path}},[t._v(" "+t._s(s.title)+" ")]),e("span",{staticClass:"tags-li-icon",on:{click:function(e){return t.closeTags(a)}}},[e("i",{staticClass:"el-icon-close"})])],1)})),0),e("div",{staticClass:"tags-close-box"},[e("el-dropdown",{on:{command:t.handleTags}},[e("el-button",{attrs:{size:"mini",type:"primary"}},[t._v(" 标签选项"),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown",size:"small"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"other"}},[t._v("关闭其他")]),e("el-dropdown-item",{attrs:{command:"all"}},[t._v("关闭所有")])],1)],1)],1)]):t._e()},w=[],L=(s(7658),{data(){return{showTags:!0,tagsList:[]}},methods:{isActive(t){return t===this.$route.fullPath},closeTags(t){const e=this.tagsList.splice(t,1)[0],s=this.tagsList[t]?this.tagsList[t]:this.tagsList[t-1];s?e.path===this.$route.fullPath&&this.$router.push(s.path):this.$router.push("/")},addTags(t){const e=this.tagsList.some((e=>e.path===t.fullPath));e||this.tagsList.push({title:t.meta.title,path:t.fullPath}),console.log(this.tagsList)},handleTags(t){"other"===t?this.closeOther():this.closeAll()},closeOther(){const t=this.tagsList.filter((t=>t.path===this.$route.fullPath));this.tagsList=t},closeAll(){this.tagsList=[],this.$router.push("/")}},watch:{$route(t,e){this.addTags(t)}}}),b=L,k=(0,h.Z)(b,x,w,!1,null,null,null),y=k.exports,$={components:{MyHead:l.Z,Sidebar:C,MyTag:y},data(){return{collapse:!1}},created(){g.Z.$on("collapse",(t=>{this.collapse=t}))},methods:{}},Z=$,T=(0,h.Z)(Z,a,i,!1,null,null,null),M=T.exports},333:function(t,e,s){var a=s(144);const i=new a["default"];e.Z=i},9017:function(t,e,s){t.exports=s.p+"img/admin.22222124.png"}}]);
//# sourceMappingURL=249.548975cf.js.map